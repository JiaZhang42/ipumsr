<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Wait for extract to finish — wait_for_extract • ipumsr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Wait for extract to finish — wait_for_extract" />
<meta property="og:description" content="Wait for an extract to finish by periodically checking its status via the
IPUMS API and returning when the extract is ready to download. For an
overview of ipumsr API functionality, see
vignette(&quot;ipums-api&quot;, package = &quot;ipumsr&quot;)." />
<meta property="og:image" content="http://tech.popdata.org/ipumsr/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipumsr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.4.5.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ipums.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ipums.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/value-labels.html">Value labels</a>
    </li>
    <li>
      <a href="../articles/ipums-geography.html">Geographic data in ipumsr</a>
    </li>
    <li>
      <a href="../articles/ipums-bigdata.html">Big IPUMS data</a>
    </li>
    <li>
      <a href="../articles/ipums-api.html">IPUMS data extract API</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/ipums-cps.html">CPS exercise</a>
    </li>
    <li>
      <a href="../articles/ipums-nhgis.html">NHGIS exercise</a>
    </li>
    <li>
      <a href="../articles/ipums-terra.html">IPUMS Terra exercise</a>
    </li>
    <li>
      <a href="https://ipums.org/exercises.shtml">More project exercises</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ipums/ipumsr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forum.ipums.org">
    <span class="fa fa-users"></span>
     
  </a>
</li>
<li>
  <a href="https://www.ipums.org/">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Wait for extract to finish</h1>
    <small class="dont-index">Source: <a href='https://github.com/ipums/ipumsr/blob/master/R/api.R'><code>R/api.R</code></a></small>
    <div class="hidden name"><code>wait_for_extract.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Wait for an extract to finish by periodically checking its status via the
IPUMS API and returning when the extract is ready to download. For an
overview of ipumsr API functionality, see
<code><a href='../articles/ipums-api.html'>vignette("ipums-api", package = "ipumsr")</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>wait_for_extract</span><span class='op'>(</span>
  <span class='va'>extract</span>,
  initial_delay_seconds <span class='op'>=</span> <span class='fl'>0</span>,
  max_delay_seconds <span class='op'>=</span> <span class='fl'>300</span>,
  timeout_seconds <span class='op'>=</span> <span class='fl'>10800</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  api_key <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span><span class='op'>(</span><span class='st'>"IPUMS_API_KEY"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>extract</th>
      <td><p>One of:</p><ul>
<li><p>An object of class <code>ipums_extract</code></p></li>
<li><p>The data collection and extract number formatted as a single
          string of the form <code>"collection:number"</code></p></li>
<li><p>The data collection and extract number formatted as a vector of the
          form <code>c("collection", "number")</code></p></li>
</ul><p>The extract number does not need to be zero-padded (e.g., use <code>"usa:1"</code>
or <code>c("usa", "1")</code>, not <code>"usa:00001"</code> or <code>c("usa", "00001")</code>).
See Examples section below for examples of each form.</p></td>
    </tr>
    <tr>
      <th>initial_delay_seconds</th>
      <td><p>How many seconds to wait before first status
check.</p></td>
    </tr>
    <tr>
      <th>max_delay_seconds</th>
      <td><p>Maximum seconds to wait between status checks. The
function doubles the wait time after each check, but will cap the wait
wait time at this maximum value (300 seconds, or 5 minutes, by default).</p></td>
    </tr>
    <tr>
      <th>timeout_seconds</th>
      <td><p>Maximum total number of seconds to continue waiting
for the extract before throwing an error. Defaults to 10,800 seconds (three
hours).</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If <code>TRUE</code>, the default, messages will be printed at the
beginning of each wait interval with the current wait time, each time the
status of the extract is checked, and when the extract is ready to
download. Setting this argument to <code>FALSE</code> will silence these
messages.</p></td>
    </tr>
    <tr>
      <th>api_key</th>
      <td><p>API key associated with your user account. Defaults to the
value of environment variable "IPUMS_API_KEY".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>ipums_extract</code> containing the extract
  definition and the URLs from which to download extract files.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other ipums_api: 
<code><a href='define_extract_from_json.html'>define_extract_from_json</a>()</code>,
<code><a href='define_extract_micro.html'>define_extract_micro</a>()</code>,
<code><a href='download_extract.html'>download_extract</a>()</code>,
<code><a href='extract_list_to_tbl.html'>extract_list_to_tbl</a>()</code>,
<code><a href='extract_tbl_to_list.html'>extract_tbl_to_list</a>()</code>,
<code><a href='get_extract_info.html'>get_extract_info</a>()</code>,
<code><a href='get_last_extract_info.html'>get_last_extract_info</a>()</code>,
<code><a href='get_recent_extracts_info.html'>get_recent_extracts_info</a></code>,
<code><a href='ipums_data_collections.html'>ipums_data_collections</a>()</code>,
<code><a href='is_extract_ready.html'>is_extract_ready</a>()</code>,
<code><a href='revise_extract_micro.html'>revise_extract_micro</a>()</code>,
<code><a href='save_extract_as_json.html'>save_extract_as_json</a>()</code>,
<code><a href='submit_extract.html'>submit_extract</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='va'>my_extract</span> <span class='op'>&lt;-</span> <span class='fu'><a href='define_extract_micro.html'>define_extract_micro</a></span><span class='op'>(</span><span class='st'>"usa"</span>, <span class='st'>"Example"</span>, <span class='st'>"us2013a"</span>, <span class='st'>"YEAR"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='va'>submitted_extract</span> <span class='op'>&lt;-</span> <span class='fu'><a href='submit_extract.html'>submit_extract</a></span><span class='op'>(</span><span class='va'>my_extract</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Wait for extract by supplying extract object:</span></span>
<span class='r-in'><span class='va'>downloadable_extract</span> <span class='op'>&lt;-</span> <span class='fu'>wait_for_extract</span><span class='op'>(</span><span class='va'>submitted_extract</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># By supplying the data collection and extract number, as a string:</span></span>
<span class='r-in'><span class='va'>downloadable_extract</span> <span class='op'>&lt;-</span> <span class='fu'>wait_for_extract</span><span class='op'>(</span><span class='st'>"usa:1"</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'># Note that there is no space before or after the colon, and no zero-padding</span></span>
<span class='r-in'><span class='co'># of the extract number.</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># By supplying the data collection and extract number, as a vector:</span></span>
<span class='r-in'><span class='va'>downloadable_extract</span> <span class='op'>&lt;-</span> <span class='fu'>wait_for_extract</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"usa"</span>, <span class='st'>"1"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href="https://www.ipums.org">IPUMS</a> at the University of Minnesota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '4ffa912ace97d2493f6ed39f20e94316',
    indexName: 'ipumsr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


