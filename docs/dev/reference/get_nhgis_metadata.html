<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>List available data sources from IPUMS NHGIS — get_nhgis_metadata • ipumsr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="List available data sources from IPUMS NHGIS — get_nhgis_metadata"><meta property="og:description" content='Retrieve information about available NHGIS data sources, including
datasets,
data tables (summary tables),
time series tables,
and shapefiles (GIS files).
To retrieve summary metadata for all available data sources of a particular
type, use the type argument. To retrieve detailed metadata for a
single data source, use the dataset, data_table, or time_series_table
arguments. See the metadata availability section below for information on
the metadata provided for each data type.
For general information, see the NHGIS
data source overview and the
FAQ.
Learn more about the IPUMS API in vignette("ipums-api").'><meta property="og:image" content="http://tech.popdata.org/ipumsr/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipumsr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ipums.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ipums-read.html">Read IPUMS data</a>
    </li>
    <li>
      <a href="../articles/value-labels.html">Value labels</a>
    </li>
    <li>
      <a href="../articles/ipums-bigdata.html">Big IPUMS data</a>
    </li>
    <li>
      <a href="../articles/ipums-api.html">Interact with the IPUMS API</a>
    </li>
    <li class="divider">
    <li>
      <a href="https://ipums.org/exercises.shtml" class="external-link">Project-specific exercises</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ipums/ipumsr" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forum.ipums.org" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
<li>
  <a href="https://www.ipums.org/" class="external-link">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>List available data sources from IPUMS NHGIS</h1>
    <small class="dont-index">Source: <a href="https://github.com/ipums/ipumsr/blob/HEAD/R/api_metadata_nhgis.R" class="external-link"><code>R/api_metadata_nhgis.R</code></a></small>
    <div class="hidden name"><code>get_nhgis_metadata.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve information about available NHGIS data sources, including
<a href="https://www.nhgis.org/overview-nhgis-datasets" class="external-link">datasets</a>,
data tables (summary tables),
<a href="https://www.nhgis.org/time-series-tables" class="external-link">time series tables</a>,
and <a href="https://www.nhgis.org/gis-files" class="external-link">shapefiles</a> (GIS files).</p>
<p>To retrieve summary metadata for all available data sources of a particular
type, use the <code>type</code> argument. To retrieve detailed metadata for a
single data source, use the <code>dataset</code>, <code>data_table</code>, or <code>time_series_table</code>
arguments. See the <em>metadata availability</em> section below for information on
the metadata provided for each data type.</p>
<p>For general information, see the NHGIS
<a href="https://www.nhgis.org/data-availability" class="external-link">data source overview</a> and the
<a href="https://www.nhgis.org/frequently-asked-questions-faq" class="external-link">FAQ</a>.</p>
<p>Learn more about the IPUMS API in <code><a href="../articles/ipums-api.html">vignette("ipums-api")</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_nhgis_metadata</span><span class="op">(</span>
  type <span class="op">=</span> <span class="cn">NULL</span>,
  dataset <span class="op">=</span> <span class="cn">NULL</span>,
  data_table <span class="op">=</span> <span class="cn">NULL</span>,
  time_series_table <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>,
  match_all <span class="op">=</span> <span class="cn">TRUE</span>,
  match_case <span class="op">=</span> <span class="cn">FALSE</span>,
  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"IPUMS_API_KEY"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>type</dt>
<dd><p>One of <code>"datasets"</code>, <code>"time_series_tables"</code>, or <code>"shapefiles"</code>
indicating the type of summary metadata to retrieve. Leave <code>NULL</code> if
requesting metadata for a single <code>dataset</code>, <code>data_table</code>, or
<code>time_series_table</code>.</p></dd>


<dt>dataset</dt>
<dd><p>Name of an individual dataset for which to retrieve metadata.</p></dd>


<dt>data_table</dt>
<dd><p>Name of an individual data table for which to retrieve
metadata. If provided, an associated <code>dataset</code> must also be specified.</p></dd>


<dt>time_series_table</dt>
<dd><p>Name of an individual time series table for which
to retrieve metadata.</p></dd>


<dt>...</dt>
<dd><p>Optional set of arguments used to filter the requested
summary metadata.</p>
<p>Each argument should be named and consist of a
character vector. Each string in the vector is interpreted as
a regular expression that is matched to the values in the metadata column
with the same name as the argument name. Only metadata records
whose values match the provided expressions will be included in the output.
See examples.</p>
<p>Only used when <code>type</code> is provided.</p></dd>


<dt>match_all</dt>
<dd><p>If <code>TRUE</code>, only metadata records that match all of the
expressions provided in <code>...</code> will be included in the output. If <code>FALSE</code>,
metadata records that match any of the expressions will be included.
Defaults to <code>TRUE</code>.</p></dd>


<dt>match_case</dt>
<dd><p>If <code>TRUE</code>, use case-sensitive matching when interpreting
the expressions provided in <code>...</code>. Defaults to <code>FALSE</code>.</p></dd>


<dt>api_key</dt>
<dd><p>API key associated with your user account. Defaults to the
value of the <code>IPUMS_API_KEY</code> environment variable. See
<code><a href="set_ipums_api_key.html">set_ipums_api_key()</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>If <code>type</code> is provided, a <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> of
summary metadata for all data sources of the provided <code>type</code>.
Otherwise, a named list of metadata for the specified <code>dataset</code>,
<code>data_table</code>, or <code>time_series_table</code>.</p>
    </div>
    <div id="metadata-availability">
    <h2>Metadata availability</h2>
    

<p>The following sections summarize the metadata fields provided for each data
type. Summary metadata include a subset of the fields provided for individual
data sources.</p><div class="section">
<h3 id="datasets-">Datasets:<a class="anchor" aria-label="anchor" href="#datasets-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the dataset. This is the code that is
used to refer to the dataset when interacting with the IPUMS API.</p></li>
<li><p><strong><code>group:</code></strong> The group of datasets to which the dataset belongs.
For instance, 5 separate datasets are part of the
<code>"2015 American Community Survey"</code> group.</p></li>
<li><p><strong><code>description:</code></strong> A short description of the dataset.</p></li>
<li><p><strong><code>sequence:</code></strong> Order in which the dataset will appear in the metadata API
and extracts.</p></li>
<li><p><strong><code>has_multiple_data_types:</code></strong> Logical value indicating whether multiple
data types exist for this dataset. For example, ACS
datasets include both estimates and margins of error.</p></li>
<li><p><strong><code>data_tables:</code></strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names,
codes, and descriptions for all data tables available for the dataset.</p></li>
<li><p><strong><code>geog_levels:</code></strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names,
descriptions, and extent information for the geographic levels available
for the dataset. The <code>has_geog_extent_selection</code> field contains logical
values indicating whether extent selection is allowed (and required) for
the associated geographic level. See <code>geographic_instances</code> below.</p></li>
<li><p><strong><code>breakdowns:</code></strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names,
types, descriptions, and breakdown values for all breakdowns available
for the dataset.</p></li>
<li><p><strong><code>years:</code></strong> A vector of years for which the dataset is available. This
field is only present if a dataset is available for multiple years. Note
that ACS datasets are not considered to be available for multiple years.</p></li>
<li><p><strong><code>geographic_instances:</code></strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing
names and descriptions for all valid geographic extents for the
dataset. This field is only present if at least one of the dataset's
<code>geog_levels</code> allows geographic extent selection.</p></li>
</ul></div>

<div class="section">
<h3 id="data-tables-">Data tables:<a class="anchor" aria-label="anchor" href="#data-tables-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the data table within its dataset.
This is the code that is used to refer to the data table when interacting
with the IPUMS API.</p></li>
<li><p><strong><code>description</code>:</strong> A short description of the data table.</p></li>
<li><p><strong><code>universe</code>:</strong> The statistical population measured by this data table
(e.g. persons, families, occupied housing units, etc.)</p></li>
<li><p><strong><code>nhgis_code</code>:</strong> The code identifying the data table in the extract.
Variables in the extract data will include column names prefixed with this
code.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the data table will appear in the metadata
API and extracts.</p></li>
<li><p><strong><code>dataset_name</code>:</strong> Name of the dataset to which this data table belongs.</p></li>
<li><p><strong><code>variables</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing variable
descriptions and codes for the data table</p></li>
</ul></div>

<div class="section">
<h3 id="time-series-tables-">Time series tables:<a class="anchor" aria-label="anchor" href="#time-series-tables-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the time series table. This is the
code that is used to refer to the time series table when interacting with
the IPUMS API.</p></li>
<li><p><strong><code>description</code>:</strong> A short description of the time series table.</p></li>
<li><p><strong><code>geographic_integration</code>:</strong> The method by which the time series table
aligns geographic units across time. <code>"Nominal"</code> integration indicates
that geographic units are aligned by name (disregarding changes in unit
boundaries). <code>"Standardized"</code> integration indicates that data from multiple
time points are standardized to the indicated year's census units. For
more information, click
<a href="https://www.nhgis.org/time-series-tables#geographic-integration" class="external-link">here</a>.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the time series table will appear in the
metadata API and extracts.</p></li>
<li><p><strong><code>time_series</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names
and descriptions for the individual time series available for the
time series table.</p></li>
<li><p><strong><code>years</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing
information on the available data years for the
time series table.</p></li>
<li><p><strong><code>geog_levels</code>:</strong> A <code><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html" class="external-link">tibble</a></code> containing names
and descriptions for the geographic levels available
for the time series table.</p></li>
</ul></div>

<div class="section">
<h3 id="shapefiles-">Shapefiles:<a class="anchor" aria-label="anchor" href="#shapefiles-"></a></h3>

<ul><li><p><strong><code>name</code>:</strong> The unique identifier for the shapefile. This is the
code that is used to refer to the shapefile when interacting with
the IPUMS API.</p></li>
<li><p><strong><code>year</code>:</strong> The survey year in which the shapefile's represented areas
were used for tabulations, which may be different than the vintage of the
represented areas. For more information, click
<a href="https://www.nhgis.org/gis-files#years" class="external-link">here</a>.</p></li>
<li><p><strong><code>geographic_level</code>:</strong> The geographic level of the shapefile.</p></li>
<li><p><strong><code>extent</code>:</strong> The geographic extent covered by the shapefile.</p></li>
<li><p><strong><code>basis</code>:</strong> The derivation source of the shapefile.</p></li>
<li><p><strong><code>sequence</code>:</strong> Order in which the shapefile will appear in the
metadata API and extracts.</p></li>
</ul></div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="define_extract_nhgis.html">define_extract_nhgis()</a></code> to create an IPUMS NHGIS extract definition.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># Get summary metadata for all available sources of a given data type</span></span>
<span class="r-in"><span class="fu">get_nhgis_metadata</span><span class="op">(</span><span class="st">"datasets"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Filter summary metadata to records that meet specific criteria.</span></span>
<span class="r-in"><span class="co"># This returns records whose description includes both "Sex" and "Age" and</span></span>
<span class="r-in"><span class="co"># whose years include 1990 and 2000:</span></span>
<span class="r-in"><span class="fu">get_nhgis_metadata</span><span class="op">(</span></span>
<span class="r-in">  <span class="st">"time_series_tables"</span>,</span>
<span class="r-in">  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sex"</span>, <span class="st">"Age"</span><span class="op">)</span>,</span>
<span class="r-in">  years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1990</span>, <span class="fl">2000</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Alternatively, return records whose description includes</span></span>
<span class="r-in"><span class="co"># either "Sex" or "Age"</span></span>
<span class="r-in"><span class="fu">get_nhgis_metadata</span><span class="op">(</span></span>
<span class="r-in">  <span class="st">"time_series_tables"</span>,</span>
<span class="r-in">  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sex"</span>, <span class="st">"Age"</span><span class="op">)</span>,</span>
<span class="r-in">  match_all <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Get metadata for single data source</span></span>
<span class="r-in"><span class="fu">get_nhgis_metadata</span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"1990_STF1"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">get_nhgis_metadata</span><span class="op">(</span>data_table <span class="op">=</span> <span class="st">"NP1"</span>, dataset <span class="op">=</span> <span class="st">"1990_STF1"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.ipums.org" class="external-link">IPUMS</a> at the University of Minnesota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> .</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '4ffa912ace97d2493f6ed39f20e94316',
    indexName: 'ipumsr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

