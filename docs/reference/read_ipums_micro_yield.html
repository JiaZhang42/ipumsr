<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read data from an IPUMS extract (in yields) — read_ipums_micro_yield • ipumsr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Read data from an IPUMS extract (in yields) — read_ipums_micro_yield"><meta property="og:description" content="Reads a dataset downloaded from the IPUMS extract system, but does
so by returning an object that can read a group of lines at a time.
This is a more flexible way to read data in chunks than
the functions like read_ipums_micro_chunked, allowing
you to do things like reading parts of multiple files at the same time
and resetting from the beginning more easily than with the chunked
functions. Note that while other read_ipums_micro* functions
can read from .csv(.gz) or .dat(.gz) files, these functions can only read
from .dat(.gz) files."><meta property="og:image" content="http://tech.popdata.org/ipumsr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ipumsr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ipums.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ipums.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/value-labels.html">Value labels</a>
    </li>
    <li>
      <a href="../articles/ipums-geography.html">Geographic data in ipumsr</a>
    </li>
    <li>
      <a href="../articles/ipums-bigdata.html">Big IPUMS data</a>
    </li>
    <li>
      <a href="../articles/ipums-api.html">IPUMS data extract API</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/ipums-cps.html">CPS exercise</a>
    </li>
    <li>
      <a href="../articles/ipums-nhgis.html">NHGIS exercise</a>
    </li>
    <li>
      <a href="../articles/ipums-terra.html">IPUMS Terra exercise</a>
    </li>
    <li>
      <a href="https://ipums.org/exercises.shtml" class="external-link">More project exercises</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ipums/ipumsr" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forum.ipums.org" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
<li>
  <a href="https://www.ipums.org/" class="external-link">
    <span class="fa fa-globe"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read data from an IPUMS extract (in yields)</h1>
    <small class="dont-index">Source: <a href="https://github.com/ipums/ipumsr/blob/HEAD/R/micro_read_yield.r" class="external-link"><code>R/micro_read_yield.r</code></a></small>
    <div class="hidden name"><code>read_ipums_micro_yield.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reads a dataset downloaded from the IPUMS extract system, but does
so by returning an object that can read a group of lines at a time.
This is a more flexible way to read data in chunks than
the functions like <code><a href="read_ipums_micro_chunked.html">read_ipums_micro_chunked</a></code>, allowing
you to do things like reading parts of multiple files at the same time
and resetting from the beginning more easily than with the chunked
functions. <strong>Note that while other <code>read_ipums_micro*</code> functions
can read from .csv(.gz) or .dat(.gz) files, these functions can only read
from .dat(.gz) files.</strong></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">read_ipums_micro_yield</span><span class="op">(</span>
  <span class="va">ddi</span>,
  vars <span class="op">=</span> <span class="cn">NULL</span>,
  data_file <span class="op">=</span> <span class="cn">NULL</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  var_attrs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val_labels"</span>, <span class="st">"var_label"</span>, <span class="st">"var_desc"</span><span class="op">)</span>,
  lower_vars <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>

<span class="fu">read_ipums_micro_list_yield</span><span class="op">(</span>
  <span class="va">ddi</span>,
  vars <span class="op">=</span> <span class="cn">NULL</span>,
  data_file <span class="op">=</span> <span class="cn">NULL</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  var_attrs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val_labels"</span>, <span class="st">"var_label"</span>, <span class="st">"var_desc"</span><span class="op">)</span>,
  lower_vars <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ddi</dt>
<dd><p>Either a filepath to a DDI xml file downloaded from
the website, or a <code>ipums_ddi</code> object parsed by <code><a href="read_ipums_ddi.html">read_ipums_ddi</a></code></p></dd>


<dt>vars</dt>
<dd><p>Names of variables to load. Accepts a character vector of names, or
<code><a href="dplyr_select_style.html">dplyr_select_style</a></code> conventions. For hierarchical data, the
rectype id variable will be added even if it is not specified.</p></dd>


<dt>data_file</dt>
<dd><p>Specify a directory to look for the data file.
If left empty, it will look in the same directory as the DDI file.</p></dd>


<dt>verbose</dt>
<dd><p>Logical, indicating whether to print progress information
to console.</p></dd>


<dt>var_attrs</dt>
<dd><p>Variable attributes to add from the DDI, defaults to
adding all (val_labels, var_label and var_desc). See
<code><a href="set_ipums_var_attributes.html">set_ipums_var_attributes</a></code> for more details.</p></dd>


<dt>lower_vars</dt>
<dd><p>Only if reading a DDI from a file, a logical indicating
whether to convert variable names to lowercase (default is FALSE, in line
with IPUMS conventions). Note that this argument will be ignored if
argument <code>ddi</code> is an <code>ipums_ddi</code> object rather than a file path.
See <code><a href="read_ipums_ddi.html">read_ipums_ddi</a></code> for converting variable names to lowercase
when reading in the DDI.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A HipYield R6 object (See 'Details' for more information)</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>These functions return an IpumsYield R6 object which have the following
methods:</p><ul><li><p><code>yield(n = 10000)</code> A function to read the next 'yield' from the data,
  returns a `tbl_df` (or list of `tbl_df` for `hipread_list_yield()`)
  with up to n rows (it will return NULL if no rows are left, or all
  available ones if less than n are available).</p></li>
<li><p><code>reset()</code> A function to reset the data so that the next yield will
  read data from the start.</p></li>
<li><p><code>is_done()</code> A function that returns whether the file has been completely
  read yet or not.</p></li>
<li><p><code>cur_pos</code> A property that contains the next row number that will be
   read (1-indexed).</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other ipums_read: 
<code><a href="read_ipums_micro_chunked.html">read_ipums_micro_chunked</a>()</code>,
<code><a href="read_ipums_micro.html">read_ipums_micro</a>()</code>,
<code><a href="read_ipums_sf.html">read_ipums_sf</a>()</code>,
<code><a href="read_nhgis.html">read_nhgis</a>()</code>,
<code><a href="read_terra_area.html">read_terra_area</a>()</code>,
<code><a href="read_terra_micro.html">read_terra_micro</a>()</code>,
<code><a href="read_terra_raster.html">read_terra_raster</a>()</code></p></div>
    </div>
    <div id="super-classes">
    <h2>Super classes</h2>
    <p><code><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html" class="external-link">hipread::HipYield</a></code> -&gt; <code><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html" class="external-link">hipread::HipLongYield</a></code> -&gt; <code>IpumsLongYield</code></p>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-IpumsLongYield-new"><code>IpumsLongYield$new()</code></a></p></li>
<li><p><a href="#method-IpumsLongYield-yield"><code>IpumsLongYield$yield()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="hipread" data-topic="HipYield" data-id="is_done"><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html#method-is_done"><code>hipread::HipYield$is_done()</code></a></span></li>
<li><span class="pkg-link" data-pkg="hipread" data-topic="HipYield" data-id="reset"><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html#method-reset"><code>hipread::HipYield$reset()</code></a></span></li>
</ul></details></p><hr><a id="method-IpumsLongYield-new"></a><div class="section">
<h3 id="method-new-">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/read_ipums_micro_yield.html">IpumsLongYield</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  <span class="va">ddi</span>,
  vars <span class="op">=</span> <span class="cn">NULL</span>,
  data_file <span class="op">=</span> <span class="cn">NULL</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  var_attrs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val_labels"</span>, <span class="st">"var_label"</span>, <span class="st">"var_desc"</span><span class="op">)</span>,
  lower_vars <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-IpumsLongYield-yield"></a><div class="section">
<h3 id="method-yield-">Method <code>yield()</code><a class="anchor" aria-label="anchor" href="#method-yield-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">IpumsLongYield</span><span class="op">$</span><span class="fu">yield</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div>

    </div>
    <div id="super-classes">
    <h2>Super classes</h2>
    <p><code><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html" class="external-link">hipread::HipYield</a></code> -&gt; <code><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html" class="external-link">hipread::HipListYield</a></code> -&gt; <code>IpumsListYield</code></p>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods-1">Public methods<a class="anchor" aria-label="anchor" href="#public-methods-1"></a></h3>

<ul><li><p><a href="#method-IpumsListYield-new"><code>IpumsListYield$new()</code></a></p></li>
<li><p><a href="#method-IpumsListYield-yield"><code>IpumsListYield$yield()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="hipread" data-topic="HipYield" data-id="is_done"><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html#method-is_done"><code>hipread::HipYield$is_done()</code></a></span></li>
<li><span class="pkg-link" data-pkg="hipread" data-topic="HipYield" data-id="reset"><a href="https://rdrr.io/pkg/hipread/man/hipread_long_yield.html#method-reset"><code>hipread::HipYield$reset()</code></a></span></li>
</ul></details></p><hr><a id="method-IpumsListYield-new"></a><div class="section">
<h3 id="method-new--1">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new--1"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/read_ipums_micro_yield.html">IpumsListYield</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  <span class="va">ddi</span>,
  vars <span class="op">=</span> <span class="cn">NULL</span>,
  data_file <span class="op">=</span> <span class="cn">NULL</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  var_attrs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"val_labels"</span>, <span class="st">"var_label"</span>, <span class="st">"var_desc"</span><span class="op">)</span>,
  lower_vars <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-IpumsListYield-yield"></a><div class="section">
<h3 id="method-yield--1">Method <code>yield()</code><a class="anchor" aria-label="anchor" href="#method-yield--1"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">IpumsListYield</span><span class="op">$</span><span class="fu">yield</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># An example using "long" data</span></span>
<span class="r-in"><span class="va">long_yield</span> <span class="op">&lt;-</span> <span class="fu">read_ipums_micro_yield</span><span class="op">(</span><span class="fu"><a href="ipums_example.html">ipums_example</a></span><span class="op">(</span><span class="st">"cps_00006.xml"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use of data from IPUMS-CPS is subject to conditions including that users should</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cite the data appropriately. Use command `ipums_conditions()` for more details.</span>
<span class="r-in"><span class="co"># Get first 10 rows</span></span>
<span class="r-in"><span class="va">long_yield</span><span class="op">$</span><span class="fu">yield</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 10 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     YEAR SERIAL HWTSUPP       STATEFIP     MONTH PERNUM WTSUPP            INCTOT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int+lbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">1</span>962     80   <span style="text-decoration: underline;">1</span>476. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>476.     <span style="text-decoration: underline;">4</span>883         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">1</span>962     80   <span style="text-decoration: underline;">1</span>476. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>471.     <span style="text-decoration: underline;">5</span>800         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">1</span>962     80   <span style="text-decoration: underline;">1</span>476. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      3  <span style="text-decoration: underline;">1</span>579. 99<span style="text-decoration: underline;">999</span>998<span style="color: #949494;"> [Missin…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">1</span>962     82   <span style="text-decoration: underline;">1</span>598. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>598.    <span style="text-decoration: underline;">14</span>015         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">1</span>962     83   <span style="text-decoration: underline;">1</span>707. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>707.    <span style="text-decoration: underline;">16</span>552         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">1</span>962     84   <span style="text-decoration: underline;">1</span>790. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>790.     <span style="text-decoration: underline;">6</span>375         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">4</span>355. 99<span style="text-decoration: underline;">999</span>999<span style="color: #949494;"> [N.I.U.…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>386.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      3  <span style="text-decoration: underline;">1</span>629.      600         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      4  <span style="text-decoration: underline;">1</span>432. 99<span style="text-decoration: underline;">999</span>999<span style="color: #949494;"> [N.I.U.…</span></span>
<span class="r-in"><span class="co"># Get 20 more rows now</span></span>
<span class="r-in"><span class="va">long_yield</span><span class="op">$</span><span class="fu">yield</span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 20 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     YEAR SERIAL HWTSUPP       STATEFIP     MONTH PERNUM WTSUPP            INCTOT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int+lbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">1</span>962    108   <span style="text-decoration: underline;">1</span>479. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>479.    <span style="text-decoration: underline;">12</span>300         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">1</span>962    108   <span style="text-decoration: underline;">1</span>479. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>482.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">1</span>962    122   <span style="text-decoration: underline;">3</span>603. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">3</span>603.    <span style="text-decoration: underline;">15</span>550         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">1</span>962    122   <span style="text-decoration: underline;">3</span>603. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">3</span>603.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">1</span>962    122   <span style="text-decoration: underline;">3</span>603. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      3  <span style="text-decoration: underline;">4</span>243.     <span style="text-decoration: underline;">3</span>443         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">1</span>962    122   <span style="text-decoration: underline;">3</span>603. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      4  <span style="text-decoration: underline;">3</span>920.      255         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">1</span>962    122   <span style="text-decoration: underline;">3</span>603. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      5  <span style="text-decoration: underline;">3</span>689.      135         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">1</span>962    124   <span style="text-decoration: underline;">4</span>104. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">4</span>104.    <span style="text-decoration: underline;">15</span>000         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">1</span>962    124   <span style="text-decoration: underline;">4</span>104. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>487.     <span style="text-decoration: underline;">3</span>550         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">1</span>962    124   <span style="text-decoration: underline;">4</span>104. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      3  <span style="text-decoration: underline;">1</span>450.      692         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>  <span style="text-decoration: underline;">1</span>962    124   <span style="text-decoration: underline;">4</span>104. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      4  <span style="text-decoration: underline;">1</span>441.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>  <span style="text-decoration: underline;">1</span>962    125   <span style="text-decoration: underline;">2</span>182. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">2</span>182.     <span style="text-decoration: underline;">4</span>470         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span>  <span style="text-decoration: underline;">1</span>962    126   <span style="text-decoration: underline;">1</span>826. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>826. 99<span style="text-decoration: underline;">999</span>999<span style="color: #949494;"> [N.I.U.…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span>  <span style="text-decoration: underline;">1</span>962    126   <span style="text-decoration: underline;">1</span>826. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>629.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span>  <span style="text-decoration: underline;">1</span>962    761   <span style="text-decoration: underline;">1</span>751. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>751.     <span style="text-decoration: underline;">7</span>300         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span>  <span style="text-decoration: underline;">1</span>962    761   <span style="text-decoration: underline;">1</span>751. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>751.     <span style="text-decoration: underline;">3</span>700         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">17</span>  <span style="text-decoration: underline;">1</span>962    762   <span style="text-decoration: underline;">1</span>874. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>874.     <span style="text-decoration: underline;">2</span>534         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">18</span>  <span style="text-decoration: underline;">1</span>962    762   <span style="text-decoration: underline;">1</span>874. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>874.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">19</span>  <span style="text-decoration: underline;">1</span>962    763   <span style="text-decoration: underline;">1</span>874. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>874.     <span style="text-decoration: underline;">1</span>591         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">20</span>  <span style="text-decoration: underline;">1</span>962    764   <span style="text-decoration: underline;">1</span>724. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>724.     <span style="text-decoration: underline;">8</span>002         </span>
<span class="r-in"><span class="co"># See what row we're on now</span></span>
<span class="r-in"><span class="va">long_yield</span><span class="op">$</span><span class="va">cur_pos</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 31</span>
<span class="r-in"><span class="co"># Reset to beginning</span></span>
<span class="r-in"><span class="va">long_yield</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Read the whole thing in chunks and count Minnesotans</span></span>
<span class="r-in"><span class="va">total_mn</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span class="r-in"><span class="kw">while</span> <span class="op">(</span><span class="op">!</span><span class="va">long_yield</span><span class="op">$</span><span class="fu">is_done</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="va">cur_data</span> <span class="op">&lt;-</span> <span class="va">long_yield</span><span class="op">$</span><span class="fu">yield</span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">total_mn</span> <span class="op">&lt;-</span> <span class="va">total_mn</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">as_factor</a></span><span class="op">(</span><span class="va">cur_data</span><span class="op">$</span><span class="va">STATEFIP</span><span class="op">)</span> <span class="op">==</span> <span class="st">"Minnesota"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"><span class="va">total_mn</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2362</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Can also read hierarchical data as list:</span></span>
<span class="r-in"><span class="va">list_yield</span> <span class="op">&lt;-</span> <span class="fu">read_ipums_micro_list_yield</span><span class="op">(</span><span class="fu"><a href="ipums_example.html">ipums_example</a></span><span class="op">(</span><span class="st">"cps_00006.xml"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use of data from IPUMS-CPS is subject to conditions including that users should</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cite the data appropriately. Use command `ipums_conditions()` for more details.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Assuming data rectangularized to 'P' record type</span>
<span class="r-in"><span class="va">list_yield</span><span class="op">$</span><span class="fu">yield</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $P</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 10 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     YEAR SERIAL HWTSUPP       STATEFIP     MONTH PERNUM WTSUPP            INCTOT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int+lbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int+lbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">1</span>962     80   <span style="text-decoration: underline;">1</span>476. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>476.     <span style="text-decoration: underline;">4</span>883         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">1</span>962     80   <span style="text-decoration: underline;">1</span>476. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>471.     <span style="text-decoration: underline;">5</span>800         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">1</span>962     80   <span style="text-decoration: underline;">1</span>476. 55<span style="color: #949494;"> [Wisconsin]</span> 3<span style="color: #949494;"> [March]</span>      3  <span style="text-decoration: underline;">1</span>579. 99<span style="text-decoration: underline;">999</span>998<span style="color: #949494;"> [Missin…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">1</span>962     82   <span style="text-decoration: underline;">1</span>598. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>598.    <span style="text-decoration: underline;">14</span>015         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">1</span>962     83   <span style="text-decoration: underline;">1</span>707. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>707.    <span style="text-decoration: underline;">16</span>552         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">1</span>962     84   <span style="text-decoration: underline;">1</span>790. 27<span style="color: #949494;"> [Minnesota]</span> 3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">1</span>790.     <span style="text-decoration: underline;">6</span>375         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      1  <span style="text-decoration: underline;">4</span>355. 99<span style="text-decoration: underline;">999</span>999<span style="color: #949494;"> [N.I.U.…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      2  <span style="text-decoration: underline;">1</span>386.        0         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      3  <span style="text-decoration: underline;">1</span>629.      600         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">1</span>962    107   <span style="text-decoration: underline;">4</span>355. 19<span style="color: #949494;"> [Iowa]</span>      3<span style="color: #949494;"> [March]</span>      4  <span style="text-decoration: underline;">1</span>432. 99<span style="text-decoration: underline;">999</span>999<span style="color: #949494;"> [N.I.U.…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.ipums.org" class="external-link">IPUMS</a> at the University of Minnesota.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> .</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '4ffa912ace97d2493f6ed39f20e94316',
    indexName: 'ipumsr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

