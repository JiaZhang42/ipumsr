http_interactions:
- request:
    method: get
    uri: https://api.ipums.org/extracts/28?collection=usa&version=beta
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Content-Type: application/json
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      cache-control: max-age=0, private, must-revalidate
      content-type: application/json; charset=utf-8
      date: Thu, 28 Apr 2022 21:20:52 GMT
      etag: W/"fb8e963e2e55511a7d7275588f9e3f56"
      referrer-policy: strict-origin-when-cross-origin
      server: nginx/1.18.0 + Phusion Passenger(R) 6.0.13
      status: 200 OK
      vary: Origin
      x-content-type-options: nosniff
      x-download-options: noopen
      x-frame-options: SAMEORIGIN
      x-permitted-cross-domain-policies: none
      x-powered-by: Phusion Passenger(R) 6.0.13
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      x-request-id: b54a4aa4-a96a-41ef-a762-e09eb3804c6d
      x-runtime: '0.322809'
      x-xss-protection: 1; mode=block
      content-length: '1756'
    body:
      encoding: UTF-8
      file: no
      string: '{"data_structure":{"rectangular":{"on":"P"}},"data_format":"fixed_width","description":"Test
        extract","samples":{"us2017b":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true}},"download_links":{"sas_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.sas","bytes":5915,"sha256":"adf5a3f6f410c4208b208f70c1cf243732dc8b4de6419684087baecf2de1f6a7"},"spss_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.sps","bytes":5905,"sha256":"2d1ea335b912b462f3b1eb959636f19a5de948c5d9fc7297bbdfa9f0728af54f"},"basic_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.cbk","bytes":7150,"sha256":"0c7dfedb266b3f1bd7b6e9a92c040573b871272d5b7a82e6f2b05446bc0db40b"},"ddi_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.xml","bytes":35046,"sha256":"08c2952d294a8518fb54d436675b0d01996ed587ea51749928c8d93b2db470ac"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.dat.gz","bytes":167521,"sha256":"3e034a707a699ff5136aa76958712d3a05c02dd782b8e573e7545ecaf911318a"},"stata_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.do","bytes":10527,"sha256":"91c8f5256e1ec8d1efe2da08da0f5011500dbb06f9335fb13a0d10da7344845c"},"R_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.R","bytes":406,"sha256":"b36eda7cfb4bfc4e984ff53b218f4ff46b4ac3396d36227fe85cebb2b2647c47"}},"number":28,"status":"completed"}'
  recorded_at: 2022-04-28 21:20:52 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.xml
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00028.xml"; filename*=UTF-8''usa_00028.xml
      content-type: application/xml
      date: Thu, 28 Apr 2022 21:20:52 GMT
      etag: '"626b04ff-88e6"'
      last-modified: Thu, 28 Apr 2022 21:19:59 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=Wrk18PrKAtxWeHhw0i9z27fglqlaEs2vO87nvocnJvPGpsA87Xt1m8MLvV5VLWg%2BWGHhg5nO%2BfgGxnsUvjhkHyfquZcGrTAYApls1c2a7yCR61gEixFSPLwcOWRpfxFw6p3LRyPrkRuaawRrwojTHvS9673bmdE%2FeC9Zbm6lXP5gMSs4Gdj4gFYVPYd%2Ba8deGyDYyAkRHlZZtve81rmmQBJVDrm4OzW4PRnWGPe64tG9UHig2Lbun8QKxdlbriw%3D--SGVqSb3lbGWjkhuE--nZ4HCDwTU1d3Ehx4Hs18Gg%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      content-length: '35046'
    body:
      encoding: UTF-8
      file: yes
      string: ../fixtures/usa_00028.xml
  recorded_at: 2022-04-28 21:20:52 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1805393/usa_00028.dat.gz
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00028.dat.gz"; filename*=UTF-8''usa_00028.dat.gz
      content-type: application/gzip
      date: Thu, 28 Apr 2022 21:20:52 GMT
      etag: '"626b0503-28e61"'
      last-modified: Thu, 28 Apr 2022 21:20:03 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=lI%2Bz7D%2FcBTk6Qs3j2ryVJm4MmYngKZmWIkr%2F091MpOZ2hGtPAJ7tsh%2FpuDKNJ32diqbC%2FenFb4gh8CvpWz0auGt%2F8%2FJDFnuY166%2BgD61EL5jRLL8ouMU17oRVLAR7cLzNk05Qc1bI2M4bzny246%2B538g%2BN4mXX0kTZt8Lhx7VxmvlvSaCIHeA8fmFITBWzhFeMXp9Yfjt5ByjvVq986iPGIr5lP26FIAp6dOpL1k3oEK%2B7X144fpY88KkgjXEwg%3D--d7eS%2B9o0PcbvI83o--rTCSJJIS9%2F380u8wWWIOkA%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      content-length: '167521'
    body:
      encoding: UTF-8
      file: yes
      string: ../fixtures/usa_00028.dat.gz
  recorded_at: 2022-04-28 21:20:52 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
