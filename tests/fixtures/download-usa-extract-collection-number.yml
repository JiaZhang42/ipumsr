http_interactions:
- request:
    method: get
    uri: https://api.ipums.org/extracts/159?collection=usa&version=beta
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Content-Type: application/json
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      cache-control: max-age=0, private, must-revalidate
      content-type: application/json; charset=utf-8
      date: Thu, 23 Mar 2023 20:05:08 GMT
      etag: W/"b62f9ec1d78722730f60a3315cd8efc4"
      referrer-policy: strict-origin-when-cross-origin
      server: nginx/1.18.0
      vary: Origin
      x-content-type-options: nosniff
      x-download-options: noopen
      x-frame-options: SAMEORIGIN
      x-permitted-cross-domain-policies: none
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      x-request-id: a494e981-6754-43d5-9c3f-e945b9f1b79e
      x-runtime: '0.317948'
      x-xss-protection: '0'
      content-length: '1769'
    body:
      encoding: ''
      file: no
      string: '{"version":1,"data_structure":{"rectangular":{"on":"P"}},"data_format":"fixed_width","description":"Test
        extract","samples":{"us2017b":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true}},"number":159,"status":"completed","download_links":{"stata_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.do","bytes":10917,"sha256":"72640bc9ef47f2222c24e2b5e9d9c5201722edaf1c23e3fc4e066b176538b20c"},"R_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.R","bytes":406,"sha256":"22b4ce803a0ece5d3200036c19d8299411e0ce3b876abcd379b7ebb7f4e70233"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.dat.gz","bytes":167521,"sha256":"3e034a707a699ff5136aa76958712d3a05c02dd782b8e573e7545ecaf911318a"},"sas_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.sas","bytes":6118,"sha256":"2a9f77faecfdb8d9e1bc9ae8e878f8fd33b11885cabe37535b5f4f63209c8beb"},"ddi_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.xml","bytes":35772,"sha256":"e7886749b0cd083595628ef93c37503367c6299a3b341ffdaa973ddbe3520fce"},"basic_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.cbk","bytes":7494,"sha256":"e08c06a8c2e5cd9b8a527694dc96ab8d862c066d7edb76a1f427d79536a3560f"},"spss_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.sps","bytes":6122,"sha256":"1801dc6dfda9c9a348c808e7437a32a5995f8c63364d6a9a574dd10333b5981c"}}}'
  recorded_at: 2023-03-23 20:05:08 GMT
  recorded_with: vcr/1.2.0, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.xml
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00159.xml"; filename*=UTF-8''usa_00159.xml
      content-type: application/xml
      date: Thu, 23 Mar 2023 20:05:08 GMT
      etag: '"641caeab-8bbc"'
      last-modified: Thu, 23 Mar 2023 19:55:23 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=9jxPhpXGbMoOJA3dw6Sm3vukY7monJgogd5VMtEF6baguCCrJ7MwxnzzzcuotIFrXAebXPNV0eZmXNwMLetmBoejxGkBzRbJpNAi83Kje%2Bw4p0OcqWrKMzsSS5Zyv7fv7YksmVGkSbxZtLk7RZ1wZlGaMk%2FV2LjmavuH1ushXAyc%2BoqrcKbgHjBt7dch1BJGBGTvnZ%2F6Qof6XK3DzuCuD9FLvAsIi47XIF%2FvL5eeiYikODomcwVHzOLtl6UOxIA%3D--oBFxih%2FgR3bTkLz3--NhIktNeZ4GzwEC%2FxPJm6uQ%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      content-length: '35772'
    body:
      encoding: ''
      file: yes
      string: ../fixtures/usa_00159.xml
  recorded_at: 2023-03-23 20:05:08 GMT
  recorded_with: vcr/1.2.0, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1992253/usa_00159.dat.gz
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00159.dat.gz"; filename*=UTF-8''usa_00159.dat.gz
      content-type: application/gzip
      date: Thu, 23 Mar 2023 20:05:08 GMT
      etag: '"641caeac-28e61"'
      last-modified: Thu, 23 Mar 2023 19:55:24 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=mUzWVH3FJh26yZq1zkCcRiOhWiE8h5w1zv68oawpIj0MTtQePVX8Mf%2BKE0O5ZSJm7W2NBPz36svSjZC%2B43nYPSFiJs9uE3CIu%2F6V3FsCrhZcg%2FkA99tZoihFynrqxs0wc89e3diiwqfifLiprqx3ds2BNGAu44SQk5f2b0%2FI8y4MPoLv0C2mI47L0U7CRhJ13ed8KH7EPvSYv%2BfI83ULoVXQfAQO2W7TAp9za7aW5Yl8BcINhqM4fuFg3NytCKw%3D--13eT5rHgSsC4Kk1u--UySQpBGLagPRor54Ac4M0Q%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      content-length: '167521'
    body:
      encoding: ''
      file: yes
      string: ../fixtures/usa_00159.dat.gz
  recorded_at: 2023-03-23 20:05:08 GMT
  recorded_with: vcr/1.2.0, webmockr/0.8.0
