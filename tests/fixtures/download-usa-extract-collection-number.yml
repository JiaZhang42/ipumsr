http_interactions:
- request:
    method: get
    uri: https://api.ipums.org/extracts/82?collection=usa&version=v1
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Content-Type: application/json
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      cache-control: max-age=0, private, must-revalidate
      content-length: '1756'
      content-type: application/json; charset=utf-8
      date: Thu, 11 Nov 2021 17:57:50 GMT
      etag: W/"7283d017a5c4e6ac811d39f78ec11430"
      referrer-policy: strict-origin-when-cross-origin
      server: nginx/1.18.0 + Phusion Passenger(R) 6.0.11
      status: 200 OK
      vary: Origin
      x-content-type-options: nosniff
      x-download-options: noopen
      x-frame-options: SAMEORIGIN
      x-permitted-cross-domain-policies: none
      x-powered-by: Phusion Passenger(R) 6.0.11
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      x-request-id: d29ca574-3766-4384-8fab-341a18724ed8
      x-runtime: '0.342147'
      x-xss-protection: 1; mode=block
    body:
      encoding: UTF-8
      file: no
      string: '{"data_structure":{"rectangular":{"on":"P"}},"data_format":"fixed_width","description":"Test
        extract","samples":{"us2017b":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true}},"download_links":{"ddi_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.xml","bytes":34868,"sha256":"09e979a05f28a6b4514ba5dbddaa284d0f59b40ed002841795649145403e7a32"},"basic_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.cbk","bytes":7096,"sha256":"11049a2858e17ee722a879815edf8d61d237b4faff395baf0683291f2a90983a"},"sas_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.sas","bytes":5877,"sha256":"681582794e792b7efc8bf3a747940b230cd65e25688a0eef84cf62f2769eb160"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.dat.gz","bytes":167521,"sha256":"3e034a707a699ff5136aa76958712d3a05c02dd782b8e573e7545ecaf911318a"},"stata_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.do","bytes":10437,"sha256":"4746765e3fc36cc87b36c833b35b8827e5dbef2a63295685697084751a4f81ea"},"R_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.R","bytes":406,"sha256":"8a5516e934cf5fb529165e27f5b60bb6448b968618a71e077a0befc28b5f4b5d"},"spss_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.sps","bytes":5863,"sha256":"4c73ff56989623fd27d99c3f178f0a1dda73bdad43f2ab5ecf83ff3c61acebd4"}},"number":82,"status":"completed"}'
  recorded_at: 2021-11-11 17:57:50 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.xml
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00082.xml"; filename*=UTF-8''usa_00082.xml
      content-length: '34868'
      content-type: application/xml
      date: Thu, 11 Nov 2021 17:57:50 GMT
      etag: '"618d5997-8834"'
      last-modified: Thu, 11 Nov 2021 17:57:43 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=JFhSH%2By1rNr0du0X5UzHlOQK5hBPeaIDYkk86wneM%2BVZnE%2Bg7hLSu%2FX15sA%2FHjp9TCgssmJeVBHoZoNKiQw512yZzxwyeOY3ndOGWYH834Jq0sXR2sUcq0RVe%2FGpVtU0Il%2BRqBoY3k99Dk7PUmGUkXdFjaCrTHDr5aNsz1FOigpJBXavmTj2pfuiHyslWoHDD8xOOV57IgWZFoRnDa8TBMcaQDVuxzEWZLLnlCIL7gBX%2Fm8kMSDo8Z2CmRYnV3g%3D--9zNTwxNflvI%2ByQBr--S3DMlSJadWWnoTgrNkBH9w%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
    body:
      encoding: UTF-8
      file: yes
      string: ../fixtures/usa_00082.xml
  recorded_at: 2021-11-11 17:57:50 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1702087/usa_00082.dat.gz
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00082.dat.gz"; filename*=UTF-8''usa_00082.dat.gz
      content-length: '167521'
      content-type: application/gzip
      date: Thu, 11 Nov 2021 17:57:50 GMT
      etag: '"618d599a-28e61"'
      last-modified: Thu, 11 Nov 2021 17:57:46 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=2Gq2atHSgFdm7unBnsWKyjUmNmnyCNHUZmqSj%2BN8iFC4D%2B0pCXh%2FofXz2rMTpllLbp9nRKpm6avPj9pAbp3Fusgi%2B4BRKpk2%2BxAmz%2FRYdWPQ6w%2FVNwZxIOp2aPZop7Ch4P86CeXbmmn3zEalZuQrkGp3vtTU9nCIRxuKYyohablI9IZ3krAnJbGI%2B%2Fi8MFgegngzDUQroCNP8%2FAnLO6CnZm6P37iVz%2BSmrGDidyczZjZoIr0mVAC%2FdW%2FbgLTwow%3D--KgCO0Kethn8n6A7E--rv9qc7m8yf6vQ3RJ4tO0Rg%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
    body:
      encoding: UTF-8
      file: yes
      string: ../fixtures/usa_00082.dat.gz
  recorded_at: 2021-11-11 17:57:50 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
