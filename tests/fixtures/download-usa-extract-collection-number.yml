http_interactions:
- request:
    method: get
    uri: https://api.ipums.org/extracts/26?collection=usa&version=beta
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Content-Type: application/json
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      cache-control: max-age=0, private, must-revalidate
      content-type: application/json; charset=utf-8
      date: Thu, 07 Apr 2022 16:08:55 GMT
      etag: W/"715fc2fd7871f24f5e9002228265752d"
      referrer-policy: strict-origin-when-cross-origin
      server: nginx/1.18.0 + Phusion Passenger(R) 6.0.12
      status: 200 OK
      vary: Origin
      x-content-type-options: nosniff
      x-download-options: noopen
      x-frame-options: SAMEORIGIN
      x-permitted-cross-domain-policies: none
      x-powered-by: Phusion Passenger(R) 6.0.12
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      x-request-id: 5f1331a2-e93a-4092-bf36-5632ed7197fa
      x-runtime: '0.326824'
      x-xss-protection: 1; mode=block
      content-length: '1756'
    body:
      encoding: UTF-8
      file: no
      string: '{"data_structure":{"rectangular":{"on":"P"}},"data_format":"fixed_width","description":"Test
        extract","samples":{"us2017b":{}},"variables":{"YEAR":{"preselected":true},"SAMPLE":{"preselected":true},"SERIAL":{"preselected":true},"CBSERIAL":{"preselected":true},"HHWT":{"preselected":true},"GQ":{"preselected":true},"PERNUM":{"preselected":true},"PERWT":{"preselected":true}},"download_links":{"spss_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.sps","bytes":5905,"sha256":"6462257aab824a2b4afadb98745aaf4d519db09b1448d59f93495927672be86d"},"data":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.dat.gz","bytes":167521,"sha256":"3e034a707a699ff5136aa76958712d3a05c02dd782b8e573e7545ecaf911318a"},"stata_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.do","bytes":10527,"sha256":"6b76847d54ddb32135da6a1b7996382258d280253c7fdef2a8b80a2adb5888ea"},"ddi_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.xml","bytes":35044,"sha256":"0c9381e0f5434198604bd64b64fb37adbe36b31a8ca9bc3033310a25c564af3a"},"sas_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.sas","bytes":5915,"sha256":"04f95578b3959c01f0098e43a0191bd0f2695150bfe4614130ce757418164f55"},"R_command_file":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.R","bytes":406,"sha256":"2650404c679407d4ebbfbcad9ac7da01d019942cdf9303fd43811a79098a0e44"},"basic_codebook":{"url":"https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.cbk","bytes":7150,"sha256":"0c7dfedb266b3f1bd7b6e9a92c040573b871272d5b7a82e6f2b05446bc0db40b"}},"number":26,"status":"completed"}'
  recorded_at: 2022-04-07 16:08:56 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.xml
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00026.xml"; filename*=UTF-8''usa_00026.xml
      content-type: application/xml
      date: Thu, 07 Apr 2022 16:08:55 GMT
      etag: '"624f0c90-88e4"'
      last-modified: Thu, 07 Apr 2022 16:08:48 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=nirkIw1PqSn1fx00rSf6Bf3htmbNPEXNjUyQQ7hEDw8Cz72hyP9hdacHt7HA%2BHmdmH%2FnPhFUO5fDIYltXBAZF86rUR%2FGH%2FDjHqBc8BIGJXxl1x4FZRgboRtQFwxo%2Fs9yx%2F6QZYyBlHoWYlksybFMN43cKXEK1%2F4cZOAMyn8jgRXJ%2Be1jEyxwgJUVl2snsY8fby77PcAdWjmOXmN%2FvCOuDDa1H943RmAg6NGmUr9vkRRuXFOfxhHqLyUQP996h6g%3D--olNSu0eiD%2F6DielO--C0KYDc8vsT5vunoOJ8ratQ%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      content-length: '35044'
    body:
      encoding: UTF-8
      file: yes
      string: ../fixtures/usa_00026.xml
  recorded_at: 2022-04-07 16:08:56 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
- request:
    method: get
    uri: https://api.ipums.org/downloads/usa/api/v1/extracts/1786733/usa_00026.dat.gz
    body:
      encoding: ''
      string: ''
    headers:
      Accept: application/json, text/xml, application/xml, */*
      Authorization: <<<IPUMS_API_KEY>>>
  response:
    status:
      status_code: 200
      category: Success
      reason: OK
      message: 'Success: (200) OK'
    headers:
      accept-ranges: bytes
      cache-control: private
      content-disposition: attachment; filename="usa_00026.dat.gz"; filename*=UTF-8''usa_00026.dat.gz
      content-type: application/gzip
      date: Thu, 07 Apr 2022 16:08:56 GMT
      etag: '"624f0c92-28e61"'
      last-modified: Thu, 07 Apr 2022 16:08:50 GMT
      server: nginx/1.14.2
      set-cookie: _session_id=MSjH4NJnSBg2ycpJvdpyefpXy9y040EJQFP9myz4r46m4nCaZTbUK3RrLrG4CGhCpifUODqfca4QgSl7f6kOWSfkeVZCbbLonZJ1jrrx8qYebRh%2B8P8wnoeL74nNimA3Q60r0mdbf8GxkeOlwd5KmCAoc4P%2Fd%2FyfrebqD7r30GGDjJicMF6m23HAv4lAoz9wZS78UuV1SLSn%2FZXmlqUrMTiSj4A%2FkBE4q7HF0L6kMKt28MVfbl7W4DAuSJOd9yk%3D--jSYAPfoVp0bcC6AL--pj4Bwq%2FWcYabuPdG8EHYFQ%3D%3D;
        path=/; secure; HttpOnly; SameSite=None
      x-ratelimit-limit: '-1'
      x-ratelimit-remaining: '0'
      x-ratelimit-reset: '0'
      content-length: '167521'
    body:
      encoding: UTF-8
      file: yes
      string: ../fixtures/usa_00026.dat.gz
  recorded_at: 2022-04-07 16:08:56 GMT
  recorded_with: vcr/1.0.2, webmockr/0.8.0
